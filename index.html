<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1.0">
        <title>World View</title>
        <link href="style.css" rel="stylesheet">
        <style>
            /* Set the size of the div element that contains the map */
            #map {
                height: 100%;  /* The height is 400 pixels */
                width: 100%;  /* The width is the width of the web page */
            }

            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
  <body>
    <!--The div element for the map -->
    <div id="style-selector-control" class="map-control">
        <input
          type="radio"
          name="show-hide"
          id="hide-poi"
          class="selector-control"
        />
        <label for="hide-poi">Hide</label>
        <input
          type="radio"
          name="show-hide"
          id="show-poi"
          class="selector-control"
          checked="checked"
        />
        <label for="show-poi">Show</label>
    </div>
  
    <div id="map"></div>
    <script>
        let map;

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 3,
                center: {lat: -28.024, lng: 140.887},
                mapTypeControl: false
            });

            // Add controls to the map, allowing users to hide/show features.
            const styleControl = document.getElementById("style-selector-control");
            map.controls[google.maps.ControlPosition.TOP_LEFT].push(styleControl);
            // Apply new JSON when the user chooses to hide/show features.
            document.getElementById("hide-poi").addEventListener("click", () => {
                map.setOptions({ styles: styles["hide"] });
            });
            document.getElementById("show-poi").addEventListener("click", () => {
                map.setOptions({ styles: styles["default"] });
            });
        
            // Create an array of alphabetical characters used to label the markers.
            var labels = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    
            // Add some markers to the map.
            // Note: The code uses the JavaScript Array.prototype.map() method to
            // create an array of markers based on a given "locations" array.
            // The map() method here has nothing to do with the Google Maps API.
            var markers = locations.map(function(location, i) {
                return new google.maps.Marker({
                position: location
                //label: labels[i % labels.length]
                });
            });
            // Add a marker clusterer to manage the markers.
            var markerCluster = new MarkerClusterer(map, markers,
                {imagePath: "https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"});
        }

        // Show/hide map features
        const styles = {
            default: [],
            hide: [
                {
                    featureType: "poi.business",
                    stylers: [{ visibility: "off" }]
                },
                {
                    featureType: "transit",
                    elementType: "labels.icon",
                    stylers: [{ visibility: "off" }]
                }
            ]
        };

        // Put locations here
        var locations = [
            {lat: -31.563910, lng: 147.154312},
            {lat: -33.718234, lng: 150.363181},
            {lat: -33.727111, lng: 150.371124},
            {lat: -33.848588, lng: 151.209834},
            {lat: -33.851702, lng: 151.216968},
            {lat: -34.671264, lng: 150.863657},
            {lat: -35.304724, lng: 148.662905},
            {lat: -36.817685, lng: 175.699196},
            {lat: -36.828611, lng: 175.790222},
            {lat: -37.750000, lng: 145.116667},
            {lat: -37.759859, lng: 145.128708},
            {lat: -37.765015, lng: 145.133858},
            {lat: -37.770104, lng: 145.143299},
            {lat: -37.773700, lng: 145.145187},
            {lat: -37.774785, lng: 145.137978},
            {lat: -37.819616, lng: 144.968119},
            {lat: -38.330766, lng: 144.695692},
            {lat: -39.927193, lng: 175.053218},
            {lat: -41.330162, lng: 174.865694},
            {lat: -42.734358, lng: 147.439506},
            {lat: -42.734358, lng: 147.501315},
            {lat: -42.735258, lng: 147.438000},
            {lat: -43.999792, lng: 170.463352}
        ]
    </script>
    <script src="https://unpkg.com/@googlemaps/markerclustererplus/dist/index.min.js"></script>
    </script>
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDHtuUTxJUmmu5uV4cmssPGxZAzgB8d3Rg&callback=initMap"></script>
  </body>
</html>